<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <title>{% block title %}Stepik Delivery{% endblock %}</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <style>
    /* Sticky footer styles */
    html {
      position: relative;
      min-height: 100%;
    }
    body {
      margin-bottom: 60px;
    }
    .footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 60px;
      line-height: 60px;
    }
    .navbar {
      padding-top: 0;
      padding-bottom: 0;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="container mt-3">
    <nav class="py-2 navbar navbar-dark bg-dark d-flex justify-content-between align-items-center">

      <!-- Логотип с ссылкой на главную -->
      <a href="/" class="navbar-brand h5 mb-0 text-white">Stepik Delivery</a>

      {% if context['is_logged_in'] %}
        <div class="d-flex align-items-center gap-3">
          <a href="/cart" class="text-white mr-3">
            🛒 Корзина ({{ order.cart_count }} тов., {{ order.total }} руб.)
          </a>
          <a href="/logout" class="btn btn-outline-light btn-sm">Выйти</a>
        </div>
      {% else %}
        <div>
          <a href="/login" class="btn btn-warning btn-sm">Войти</a>
        </div>
      {% endif %}
    </nav>
  </header>

  <!-- Main Content -->
  <main class="container mt-3">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="footer">
    <nav class="container navbar navbar-light bg-light">
      <p class="h4 nav-link">Stepik Delivery</p>
      <a class="text-muted" href="#">Project author 2025</a>
    </nav>
  </footer>
</body>

</html>
